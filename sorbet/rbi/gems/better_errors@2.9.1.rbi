# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `better_errors` gem.
# Please instead update this file by running `bin/tapioca gem better_errors`.

# @private
module BetterErrors
  class << self
    # The path to the root of the application. Better Errors uses this property
    # to determine if a file in a backtrace should be considered an application
    # frame. If you are using Better Errors with Rails, you do not need to set
    # this attribute manually.
    #
    # @return [String]
    def application_root; end

    # The path to the root of the application. Better Errors uses this property
    # to determine if a file in a backtrace should be considered an application
    # frame. If you are using Better Errors with Rails, you do not need to set
    # this attribute manually.
    #
    # @return [String]
    def application_root=(_arg0); end

    # @private
    def binding_of_caller_available; end

    # @private
    def binding_of_caller_available=(_arg0); end

    # @private
    # @private
    def binding_of_caller_available?; end

    # Automatically sniffs a default editor preset based on the EDITOR
    # environment variable.
    #
    # @return [Symbol]
    def default_editor; end

    # Returns an object which responds to #url, which when called with
    # a filename and line number argument,
    # returns a URL to open the filename and line in the selected editor.
    #
    # Generates TextMate URLs by default.
    #
    #   BetterErrors.editor.url("/some/file", 123)
    #     # => txmt://open?url=file:///some/file&line=123
    #
    # @return [Proc]
    def editor; end

    # Configures how Better Errors generates open-in-editor URLs.
    #
    # @overload BetterErrors.editor=
    # @overload BetterErrors.editor=
    # @overload BetterErrors.editor=
    def editor=(editor); end

    # List of classes that are excluded from inspection.
    #
    # @return [Array]
    def ignored_classes; end

    # List of classes that are excluded from inspection.
    #
    # @return [Array]
    def ignored_classes=(_arg0); end

    # The ignored instance variables.
    #
    # @return [Array]
    def ignored_instance_variables; end

    # The ignored instance variables.
    #
    # @return [Array]
    def ignored_instance_variables=(_arg0); end

    # The logger to use when logging exception details and backtraces. If you
    # are using Better Errors with Rails, you do not need to set this attribute
    # manually. If this attribute is `nil`, nothing will be logged.
    #
    # @return [Logger, nil]
    def logger; end

    # The logger to use when logging exception details and backtraces. If you
    # are using Better Errors with Rails, you do not need to set this attribute
    # manually. If this attribute is `nil`, nothing will be logged.
    #
    # @return [Logger, nil]
    def logger=(_arg0); end

    # The maximum variable payload size. If variable.inspect exceeds this,
    # the variable won't be returned.
    #
    # @return int
    def maximum_variable_inspect_size; end

    # The maximum variable payload size. If variable.inspect exceeds this,
    # the variable won't be returned.
    #
    # @return int
    def maximum_variable_inspect_size=(_arg0); end

    # Enables experimental Pry support in the inline REPL
    #
    # If you encounter problems while using Pry, *please* file a bug report at
    # https://github.com/BetterErrors/better_errors/issues
    def use_pry!; end
  end
end

# @private
class BetterErrors::CodeFormatter
  # @return [CodeFormatter] a new instance of CodeFormatter
  def initialize(filename, line, context = T.unsafe(nil)); end

  def coderay_scanner; end

  # Returns the value of attribute context.
  def context; end

  def context_lines; end
  def each_line_of(lines, &blk); end

  # Returns the value of attribute filename.
  def filename; end

  def formatted_code; end
  def highlighted_lines; end

  # Returns the value of attribute line.
  def line; end

  def line_range; end
  def output; end
  def source_lines; end
end

BetterErrors::CodeFormatter::FILE_TYPES = T.let(T.unsafe(nil), Hash)

class BetterErrors::CodeFormatter::HTML < ::BetterErrors::CodeFormatter
  def formatted_code; end
  def formatted_lines; end
  def formatted_nums; end
  def source_unavailable; end
end

class BetterErrors::CodeFormatter::Text < ::BetterErrors::CodeFormatter
  def formatted_lines; end
  def source_unavailable; end
end

class BetterErrors::Editor
  # @return [Editor] a new instance of Editor
  def initialize(url_proc); end

  def url(raw_path, line); end

  private

  def host_path; end

  # Returns the value of attribute url_proc.
  def url_proc; end

  def virtual_path; end

  class << self
    # Automatically sniffs a default editor preset based on
    # environment variables.
    #
    # @return [Symbol]
    def default_editor; end

    def editor_from_command(editor_command); end
    def editor_from_environment_editor; end
    def editor_from_environment_formatting_string; end
    def editor_from_symbol(symbol); end
    def for_formatting_string(formatting_string); end
    def for_proc(url_proc); end
  end
end

BetterErrors::Editor::KNOWN_EDITORS = T.let(T.unsafe(nil), Array)

# @private
class BetterErrors::ErrorPage
  # @return [ErrorPage] a new instance of ErrorPage
  def initialize(exception, env); end

  def action_dispatch_action_endpoint; end
  def active_support_actions; end
  def application_frames; end
  def backtrace_frames; end
  def do_eval(opts); end
  def do_variables(opts); end

  # Returns the value of attribute env.
  def env; end

  # Returns the value of attribute exception.
  def exception; end

  def exception_hint; end
  def exception_message; end
  def exception_type; end
  def first_frame; end
  def id; end
  def render(template_name = T.unsafe(nil), csrf_token = T.unsafe(nil)); end

  # Returns the value of attribute repls.
  def repls; end

  private

  def editor_url(frame); end
  def eval_and_respond(index, code); end
  def html_formatted_code_block(frame); end
  def inspect_value(obj); end
  def rack_session; end
  def rails_params; end
  def request_path; end
  def text_formatted_code_block(frame); end
  def text_heading(char, str); end
  def uri_prefix; end

  class << self
    def template(template_name); end
    def template_path(template_name); end
  end
end

module BetterErrors::ExceptionExtension
  def __better_errors_bindings_stack; end
  def set_backtrace(*_arg0); end
end

class BetterErrors::ExceptionHint
  # @return [ExceptionHint] a new instance of ExceptionHint
  def initialize(exception); end

  def hint; end

  private

  # Returns the value of attribute exception.
  def exception; end
end

class BetterErrors::InspectableValue
  # @return [InspectableValue] a new instance of InspectableValue
  def initialize(value); end

  # @raise [ValueLargerThanConfiguredMaximum]
  def to_html; end

  private

  # Returns the value of attribute original_value.
  def original_value; end

  def value; end
  def value_as_html; end

  # @return [Boolean]
  def value_small_enough_to_inspect?; end
end

# Better Errors' error handling middleware. Including this in your middleware
# stack will show a Better Errors error page for exceptions raised below this
# middleware.
#
# If you are using Ruby on Rails, you do not need to manually insert this
# middleware into your middleware stack.
#
# @example Sinatra
#   require "better_errors"
#
#   if development?
#   use BetterErrors::Middleware
#   end
# @example Rack
#   require "better_errors"
#   if ENV["RACK_ENV"] == "development"
#   use BetterErrors::Middleware
#   end
class BetterErrors::Middleware
  # A new instance of BetterErrors::Middleware
  #
  # @param app The Rack app/middleware to wrap with Better Errors
  # @param handler The error handler to use.
  # @return [Middleware] a new instance of Middleware
  def initialize(app, handler = T.unsafe(nil)); end

  # Calls the Better Errors middleware
  #
  # @param env [Hash]
  # @return [Array]
  def call(env); end

  private

  # @return [Boolean]
  def allow_ip?(env); end

  def backtrace_frames; end
  def better_errors_call(env); end
  def internal_call(env, id, method); end
  def invalid_csrf_token_json_response; end
  def invalid_error_json_response; end
  def log_exception; end
  def no_errors_json_response; end
  def no_errors_page; end
  def not_acceptable_json_response; end
  def not_found_json_response; end
  def protected_app_call(env); end
  def show_error_page(env, exception = T.unsafe(nil)); end

  # @return [Boolean]
  def text?(env); end

  class << self
    # Adds an address to the set of IP addresses allowed to access Better
    # Errors.
    def allow_ip!(addr); end
  end
end

# The set of IP addresses that are allowed to access Better Errors.
#
# Set to `{ "127.0.0.1/8", "::1/128" }` by default.
BetterErrors::Middleware::ALLOWED_IPS = T.let(T.unsafe(nil), Set)

BetterErrors::Middleware::CSRF_TOKEN_COOKIE_NAME = T.let(T.unsafe(nil), String)

# @private
module BetterErrors::REPL
  class << self
    def detect; end
    def provider; end
    def provider=(prov); end
    def test_provider(provider); end
  end
end

BetterErrors::REPL::PROVIDERS = T.let(T.unsafe(nil), Array)

# @private
class BetterErrors::Railtie < ::Rails::Railtie
  def app; end
  def insert_middleware; end

  # @return [Boolean]
  def use_better_errors?; end
end

class BetterErrors::RaisedException
  # @return [RaisedException] a new instance of RaisedException
  def initialize(exception); end

  # Returns the value of attribute backtrace.
  def backtrace; end

  # Returns the value of attribute exception.
  def exception; end

  # Returns the value of attribute hint.
  def hint; end

  # Returns the value of attribute message.
  def message; end

  def type; end

  private

  # @return [Boolean]
  def has_bindings?; end

  def massage_syntax_error; end
  def setup_backtrace; end
  def setup_backtrace_from_backtrace; end
  def setup_backtrace_from_bindings; end
  def setup_hint; end
end

# @private
class BetterErrors::StackFrame
  # @return [StackFrame] a new instance of StackFrame
  def initialize(filename, line, name, frame_binding = T.unsafe(nil)); end

  # @return [Boolean]
  def application?; end

  def application_path; end
  def class_name; end
  def context; end

  # Returns the value of attribute filename.
  def filename; end

  # Returns the value of attribute frame_binding.
  def frame_binding; end

  # @return [Boolean]
  def gem?; end

  def gem_path; end
  def instance_variables; end

  # Returns the value of attribute line.
  def line; end

  def local_variable(name); end
  def local_variables; end
  def method_name; end

  # Returns the value of attribute name.
  def name; end

  def pretty_path; end
  def to_s; end
  def visible_instance_variables; end

  private

  def eval_local_variable(name); end
  def get_local_variable(name); end
  def set_pretty_method_name; end

  class << self
    def from_exception(exception); end
  end
end

BetterErrors::VERSION = T.let(T.unsafe(nil), String)
class BetterErrors::ValueLargerThanConfiguredMaximum < ::StandardError; end
